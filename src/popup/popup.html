<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Nexus Accessibility Testing Toolkit</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="popup">
      <h1>
        <img src="../assets/nexus-logo.svg" alt="Nexus" class="nexus-logo" />
      </h1>
      <div role="tablist" aria-label="Nexus Popup Tabs" class="tabs">
        <button
          role="tab"
          aria-selected="true"
          aria-controls="tabpanel-main"
          id="tab-main"
          tabindex="0"
          class="tab"
        >
          Main
        </button>
        <button
          role="tab"
          aria-selected="false"
          aria-controls="tabpanel-alerts"
          id="tab-alerts"
          tabindex="-1"
          class="tab"
        >
          Alerts
        </button>
        <button
          role="tab"
          aria-selected="false"
          aria-controls="tabpanel-shortcuts"
          id="tab-shortcuts"
          tabindex="-1"
          class="tab"
        >
          Keyboard Shortcuts
        </button>
      </div>
      <div
        id="tabpanel-main"
        role="tabpanel"
        aria-labelledby="tab-main"
        tabindex="0"
        class="tabpanel"
      >
        <div class="toggle-container">
          <label class="switch">
            <input type="checkbox" id="toggle-extension" role="switch" />
            <span class="slider"></span>
            <div id="toggle-label">Loading…</div>
          </label>
          <label class="switch" style="margin-top: 12px">
            <input type="checkbox" id="toggle-mini-mode" role="switch" />
            <span class="slider"></span>
            <div id="mini-mode-label">Mini Mode</div>
          </label>
        </div>
        <div id="page-info-section" class="info-container">
          <h2>Page Information</h2>
          <dl id="page-info">
            <dt>Title</dt>
            <dd id="page-title">Loading…</dd>
            <dt>Language</dt>
            <dd id="page-lang">Loading…</dd>
          </dl>
        </div>
        <div
          id="accessibility-alerts-section"
          class="info-container"
          style="margin-top: 16px"
        >
          <h2>Accessibility Alerts</h2>
          <div id="alerts-summary-loading" class="loading-state">
            <div class="spinner"></div>
            <span>Scanning page...</span>
          </div>
          <div id="alerts-summary-content" style="display: none">
            <div
              id="alerts-overview-summary"
              class="alerts-overview-summary"
            ></div>
            <button
              id="view-all-alerts-btn"
              class="view-all-alerts-btn"
              style="display: none"
            >
              View All Alerts
            </button>
          </div>
          <div
            id="alerts-summary-error"
            class="error-state"
            style="display: none"
          >
            <span>Unable to scan page</span>
          </div>
        </div>
      </div>
      <div
        id="tabpanel-alerts"
        role="tabpanel"
        aria-labelledby="tab-alerts"
        tabindex="0"
        class="tabpanel"
        hidden
      >
        <h2>Accessibility Alerts</h2>
        <div id="alerts-loading" class="loading-state">
          <div class="spinner"></div>
          <span>Scanning page for accessibility alerts...</span>
        </div>
        <div id="alerts-content" style="display: none">
          <div id="alerts-list" class="alerts-list"></div>
        </div>
        <div id="alerts-error" class="error-state" style="display: none">
          <span>Unable to scan page for alerts</span>
        </div>
      </div>
      <div
        id="tabpanel-shortcuts"
        role="tabpanel"
        aria-labelledby="tab-shortcuts"
        tabindex="0"
        class="tabpanel"
        hidden
      >
        <div class="info-container">
          <h2>Keyboard Shortcuts</h2>
          <dl class="chrome-ax-tooltip-keys">
            <dt><kbd>Alt</kbd>+<kbd>X</kbd></dt>
            <dd>Open Nexus panel</dd>
            <dt><kbd>Esc</kbd></dt>
            <dd>Close tooltip</dd>
            <dt><kbd>Shift</kbd>+<kbd>Esc</kbd></dt>
            <dd>Reopen tooltip for focused element</dd>
            <dt><kbd>Alt</kbd>+<kbd>[</kbd></dt>
            <dd>Enter Inspector</dd>
            <dt><kbd>Alt</kbd>+<kbd>M</kbd></dt>
            <dd>Toggle Mini Mode</dd>
          </dl>
        </div>
      </div>
    </div>
    <script src="../utils/impact-icons.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
